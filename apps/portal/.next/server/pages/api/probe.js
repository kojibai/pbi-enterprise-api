"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/probe";
exports.ids = ["pages/api/probe"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprobe&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fprobe.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprobe&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fprobe.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_probe_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/probe.ts */ \"(api)/./src/pages/api/probe.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_probe_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_probe_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/probe\",\n        pathname: \"/api/probe\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_probe_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnByb2JlJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTJGcGFnZXMlMkZhcGklMkZwcm9iZS50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNxRDtBQUNyRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsb0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG9EQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3BiaS1wb3J0YWwvP2QwYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyYy9wYWdlcy9hcGkvcHJvYmUudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9iZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Byb2JlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprobe&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fprobe.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/probe.ts":
/*!********************************!*\
  !*** ./src/pages/api/probe.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n// pages/api/probe.ts\nfunction nowISO() {\n    return new Date().toISOString();\n}\nfunction pickKey(q) {\n    if (!q) return \"\";\n    return Array.isArray(q) ? q[0] ?? \"\" : q;\n}\nfunction normalizeBase(u) {\n    return u.replace(/\\/+$/, \"\");\n}\nfunction forceHttps(url) {\n    // If user config accidentally sets http, we harden it here.\n    // (We only force for known public hosts; everything else is left alone.)\n    try {\n        const u = new URL(url);\n        const host = u.host.toLowerCase();\n        const forceHosts = new Set([\n            \"api.kojib.com\",\n            \"pbi.kojib.com\",\n            \"demo.kojib.com\",\n            \"tool.kojib.com\"\n        ]);\n        if (forceHosts.has(host)) u.protocol = \"https:\";\n        return u.toString();\n    } catch  {\n        return url;\n    }\n}\nasync function fetchWithTimeout(url, timeoutMs) {\n    const start = Date.now();\n    const ctrl = new AbortController();\n    const t = setTimeout(()=>ctrl.abort(), timeoutMs);\n    try {\n        // HEAD first (fast), then GET fallback\n        let r = await fetch(url, {\n            method: \"HEAD\",\n            redirect: \"follow\",\n            cache: \"no-store\",\n            signal: ctrl.signal,\n            headers: {\n                \"user-agent\": \"PBI-StatusProbe/1.0\",\n                accept: \"*/*\"\n            }\n        });\n        if (r.status === 405 || r.status === 501) {\n            r = await fetch(url, {\n                method: \"GET\",\n                redirect: \"follow\",\n                cache: \"no-store\",\n                signal: ctrl.signal,\n                headers: {\n                    \"user-agent\": \"PBI-StatusProbe/1.0\",\n                    accept: \"*/*\"\n                }\n            });\n        }\n        return {\n            ok: r.ok,\n            code: r.status,\n            ms: Date.now() - start\n        };\n    } catch (e) {\n        return {\n            ok: false,\n            ms: Date.now() - start,\n            err: e instanceof Error ? e.message : \"fetch failed\"\n        };\n    } finally{\n        clearTimeout(t);\n    }\n}\nasync function handler(req, res) {\n    res.setHeader(\"cache-control\", \"no-store, max-age=0\");\n    const checkedAtISO = nowISO();\n    const keyRaw = pickKey(req.query.key);\n    const key = keyRaw;\n    const apiBase = forceHttps(normalizeBase(\"http://api.kojib.com\" ?? 0));\n    const targets = {\n        api: `${apiBase}/health`,\n        docs: \"https://api.kojib.com/docs\",\n        portal: \"https://pbi.kojib.com/\",\n        demo: \"https://demo.kojib.com\",\n        tool: \"https://tool.kojib.com\"\n    };\n    if (!keyRaw || !(keyRaw in targets)) {\n        res.status(200).json({\n            ok: false,\n            url: \"\",\n            checkedAtISO,\n            error: `invalid key (got \"${keyRaw || \"\"}\")`\n        });\n        return;\n    }\n    const url = targets[key];\n    if (!url.startsWith(\"https://\")) {\n        res.status(200).json({\n            ok: false,\n            url,\n            checkedAtISO,\n            error: \"invalid target url (must be https)\"\n        });\n        return;\n    }\n    const p = await fetchWithTimeout(url, 4500);\n    if (p.ok) {\n        res.status(200).json({\n            ok: true,\n            url,\n            checkedAtISO,\n            ms: p.ms,\n            code: p.code\n        });\n        return;\n    }\n    res.status(200).json({\n        ok: false,\n        url,\n        checkedAtISO,\n        ms: p.ms,\n        code: p.code,\n        error: p.err ?? \"unavailable\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VSxHQUFHLEVBQUUsQ0FBQztRQUM5QztRQUNBO0lBQ0Y7SUFFQSxNQUFNeEMsTUFBTStDLE9BQU8sQ0FBQ0wsSUFBSTtJQUV4QixJQUFJLENBQUMxQyxJQUFJdUQsVUFBVSxDQUFDLGFBQWE7UUFDL0JsQixJQUFJWCxNQUFNLENBQUMsS0FBSzJCLElBQUksQ0FBQztZQUNuQjFCLElBQUk7WUFDSjNCO1lBQ0F1QztZQUNBZSxPQUFPO1FBQ1Q7UUFDQTtJQUNGO0lBRUEsTUFBTUUsSUFBSSxNQUFNL0MsaUJBQWlCVCxLQUFLO0lBRXRDLElBQUl3RCxFQUFFN0IsRUFBRSxFQUFFO1FBQ1JVLElBQUlYLE1BQU0sQ0FBQyxLQUFLMkIsSUFBSSxDQUFDO1lBQUUxQixJQUFJO1lBQU0zQjtZQUFLdUM7WUFBY1YsSUFBSTJCLEVBQUUzQixFQUFFO1lBQUVELE1BQU00QixFQUFFNUIsSUFBSTtRQUFDO1FBQzNFO0lBQ0Y7SUFFQVMsSUFBSVgsTUFBTSxDQUFDLEtBQUsyQixJQUFJLENBQUM7UUFDbkIxQixJQUFJO1FBQ0ozQjtRQUNBdUM7UUFDQVYsSUFBSTJCLEVBQUUzQixFQUFFO1FBQ1JELE1BQU00QixFQUFFNUIsSUFBSTtRQUNaMEIsT0FBT0UsRUFBRXpCLEdBQUcsSUFBSTtJQUNsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGJpLXBvcnRhbC8uL3NyYy9wYWdlcy9hcGkvcHJvYmUudHM/MThjOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9hcGkvcHJvYmUudHNcbmltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XG5cbnR5cGUgUHJvYmVLZXkgPSBcImFwaVwiIHwgXCJkb2NzXCIgfCBcInBvcnRhbFwiIHwgXCJkZW1vXCIgfCBcInRvb2xcIjtcblxudHlwZSBQcm9iZVJlc3VsdCA9XG4gIHwgeyBvazogdHJ1ZTsgdXJsOiBzdHJpbmc7IGNoZWNrZWRBdElTTzogc3RyaW5nOyBtcz86IG51bWJlcjsgY29kZT86IG51bWJlciB9XG4gIHwgeyBvazogZmFsc2U7IHVybDogc3RyaW5nOyBjaGVja2VkQXRJU086IHN0cmluZzsgbXM/OiBudW1iZXI7IGNvZGU/OiBudW1iZXI7IGVycm9yOiBzdHJpbmcgfTtcblxuZnVuY3Rpb24gbm93SVNPKCk6IHN0cmluZyB7XG4gIHJldHVybiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG59XG5cbmZ1bmN0aW9uIHBpY2tLZXkocTogc3RyaW5nIHwgc3RyaW5nW10gfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuICBpZiAoIXEpIHJldHVybiBcIlwiO1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShxKSA/IChxWzBdID8/IFwiXCIpIDogcTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplQmFzZSh1OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gdS5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpO1xufVxuXG5mdW5jdGlvbiBmb3JjZUh0dHBzKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gSWYgdXNlciBjb25maWcgYWNjaWRlbnRhbGx5IHNldHMgaHR0cCwgd2UgaGFyZGVuIGl0IGhlcmUuXG4gIC8vIChXZSBvbmx5IGZvcmNlIGZvciBrbm93biBwdWJsaWMgaG9zdHM7IGV2ZXJ5dGhpbmcgZWxzZSBpcyBsZWZ0IGFsb25lLilcbiAgdHJ5IHtcbiAgICBjb25zdCB1ID0gbmV3IFVSTCh1cmwpO1xuICAgIGNvbnN0IGhvc3QgPSB1Lmhvc3QudG9Mb3dlckNhc2UoKTtcblxuICAgIGNvbnN0IGZvcmNlSG9zdHMgPSBuZXcgU2V0KFtcbiAgICAgIFwiYXBpLmtvamliLmNvbVwiLFxuICAgICAgXCJwYmkua29qaWIuY29tXCIsXG4gICAgICBcImRlbW8ua29qaWIuY29tXCIsXG4gICAgICBcInRvb2wua29qaWIuY29tXCJcbiAgICBdKTtcblxuICAgIGlmIChmb3JjZUhvc3RzLmhhcyhob3N0KSkgdS5wcm90b2NvbCA9IFwiaHR0cHM6XCI7XG4gICAgcmV0dXJuIHUudG9TdHJpbmcoKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBmZXRjaFdpdGhUaW1lb3V0KHVybDogc3RyaW5nLCB0aW1lb3V0TXM6IG51bWJlcik6IFByb21pc2U8eyBvazogYm9vbGVhbjsgY29kZT86IG51bWJlcjsgbXM/OiBudW1iZXI7IGVycj86IHN0cmluZyB9PiB7XG4gIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgY29uc3QgY3RybCA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgY29uc3QgdCA9IHNldFRpbWVvdXQoKCkgPT4gY3RybC5hYm9ydCgpLCB0aW1lb3V0TXMpO1xuXG4gIHRyeSB7XG4gICAgLy8gSEVBRCBmaXJzdCAoZmFzdCksIHRoZW4gR0VUIGZhbGxiYWNrXG4gICAgbGV0IHIgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogXCJIRUFEXCIsXG4gICAgICByZWRpcmVjdDogXCJmb2xsb3dcIixcbiAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXG4gICAgICBzaWduYWw6IGN0cmwuc2lnbmFsLFxuICAgICAgaGVhZGVyczogeyBcInVzZXItYWdlbnRcIjogXCJQQkktU3RhdHVzUHJvYmUvMS4wXCIsIGFjY2VwdDogXCIqLypcIiB9XG4gICAgfSk7XG5cbiAgICBpZiAoci5zdGF0dXMgPT09IDQwNSB8fCByLnN0YXR1cyA9PT0gNTAxKSB7XG4gICAgICByID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgcmVkaXJlY3Q6IFwiZm9sbG93XCIsXG4gICAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXG4gICAgICAgIHNpZ25hbDogY3RybC5zaWduYWwsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJ1c2VyLWFnZW50XCI6IFwiUEJJLVN0YXR1c1Byb2JlLzEuMFwiLCBhY2NlcHQ6IFwiKi8qXCIgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgb2s6IHIub2ssIGNvZGU6IHIuc3RhdHVzLCBtczogRGF0ZS5ub3coKSAtIHN0YXJ0IH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4geyBvazogZmFsc2UsIG1zOiBEYXRlLm5vdygpIC0gc3RhcnQsIGVycjogZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogXCJmZXRjaCBmYWlsZWRcIiB9O1xuICB9IGZpbmFsbHkge1xuICAgIGNsZWFyVGltZW91dCh0KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlPFByb2JlUmVzdWx0Pikge1xuICByZXMuc2V0SGVhZGVyKFwiY2FjaGUtY29udHJvbFwiLCBcIm5vLXN0b3JlLCBtYXgtYWdlPTBcIik7XG5cbiAgY29uc3QgY2hlY2tlZEF0SVNPID0gbm93SVNPKCk7XG4gIGNvbnN0IGtleVJhdyA9IHBpY2tLZXkocmVxLnF1ZXJ5LmtleSk7XG4gIGNvbnN0IGtleSA9IGtleVJhdyBhcyBQcm9iZUtleTtcblxuICBjb25zdCBhcGlCYXNlID0gZm9yY2VIdHRwcyhub3JtYWxpemVCYXNlKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BCSV9BUElfQkFTRSA/PyBcImh0dHBzOi8vYXBpLmtvamliLmNvbVwiKSk7XG5cbiAgY29uc3QgdGFyZ2V0czogUmVjb3JkPFByb2JlS2V5LCBzdHJpbmc+ID0ge1xuICAgIGFwaTogYCR7YXBpQmFzZX0vaGVhbHRoYCxcbiAgICBkb2NzOiBcImh0dHBzOi8vYXBpLmtvamliLmNvbS9kb2NzXCIsXG4gICAgcG9ydGFsOiBcImh0dHBzOi8vcGJpLmtvamliLmNvbS9cIixcbiAgICBkZW1vOiBcImh0dHBzOi8vZGVtby5rb2ppYi5jb21cIixcbiAgICB0b29sOiBcImh0dHBzOi8vdG9vbC5rb2ppYi5jb21cIlxuICB9O1xuXG4gIGlmICgha2V5UmF3IHx8ICEoa2V5UmF3IGluIHRhcmdldHMpKSB7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgb2s6IGZhbHNlLFxuICAgICAgdXJsOiBcIlwiLFxuICAgICAgY2hlY2tlZEF0SVNPLFxuICAgICAgZXJyb3I6IGBpbnZhbGlkIGtleSAoZ290IFwiJHtrZXlSYXcgfHwgXCJcIn1cIilgXG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdXJsID0gdGFyZ2V0c1trZXldO1xuXG4gIGlmICghdXJsLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKSkge1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIG9rOiBmYWxzZSxcbiAgICAgIHVybCxcbiAgICAgIGNoZWNrZWRBdElTTyxcbiAgICAgIGVycm9yOiBcImludmFsaWQgdGFyZ2V0IHVybCAobXVzdCBiZSBodHRwcylcIlxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHAgPSBhd2FpdCBmZXRjaFdpdGhUaW1lb3V0KHVybCwgNDUwMCk7XG5cbiAgaWYgKHAub2spIHtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlLCB1cmwsIGNoZWNrZWRBdElTTywgbXM6IHAubXMsIGNvZGU6IHAuY29kZSB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgb2s6IGZhbHNlLFxuICAgIHVybCxcbiAgICBjaGVja2VkQXRJU08sXG4gICAgbXM6IHAubXMsXG4gICAgY29kZTogcC5jb2RlLFxuICAgIGVycm9yOiBwLmVyciA/PyBcInVuYXZhaWxhYmxlXCJcbiAgfSk7XG59XG4iXSwibmFtZXMiOlsibm93SVNPIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicGlja0tleSIsInEiLCJBcnJheSIsImlzQXJyYXkiLCJub3JtYWxpemVCYXNlIiwidSIsInJlcGxhY2UiLCJmb3JjZUh0dHBzIiwidXJsIiwiVVJMIiwiaG9zdCIsInRvTG93ZXJDYXNlIiwiZm9yY2VIb3N0cyIsIlNldCIsImhhcyIsInByb3RvY29sIiwidG9TdHJpbmciLCJmZXRjaFdpdGhUaW1lb3V0IiwidGltZW91dE1zIiwic3RhcnQiLCJub3ciLCJjdHJsIiwiQWJvcnRDb250cm9sbGVyIiwidCIsInNldFRpbWVvdXQiLCJhYm9ydCIsInIiLCJmZXRjaCIsIm1ldGhvZCIsInJlZGlyZWN0IiwiY2FjaGUiLCJzaWduYWwiLCJoZWFkZXJzIiwiYWNjZXB0Iiwic3RhdHVzIiwib2siLCJjb2RlIiwibXMiLCJlIiwiZXJyIiwiRXJyb3IiLCJtZXNzYWdlIiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNldEhlYWRlciIsImNoZWNrZWRBdElTTyIsImtleVJhdyIsInF1ZXJ5Iiwia2V5IiwiYXBpQmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19QQklfQVBJX0JBU0UiLCJ0YXJnZXRzIiwiYXBpIiwiZG9jcyIsInBvcnRhbCIsImRlbW8iLCJ0b29sIiwianNvbiIsImVycm9yIiwic3RhcnRzV2l0aCIsInAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/probe.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprobe&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fprobe.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();