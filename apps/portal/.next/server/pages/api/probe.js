"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/probe";
exports.ids = ["pages/api/probe"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprobe&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fprobe.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprobe&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fprobe.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_probe_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/probe.ts */ \"(api)/./src/pages/api/probe.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_probe_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_probe_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/probe\",\n        pathname: \"/api/probe\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_probe_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnByb2JlJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTJGcGFnZXMlMkZhcGklMkZwcm9iZS50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNxRDtBQUNyRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsb0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG9EQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3BiaS1wb3J0YWwvP2QwYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyYy9wYWdlcy9hcGkvcHJvYmUudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9iZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Byb2JlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprobe&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fprobe.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/probe.ts":
/*!********************************!*\
  !*** ./src/pages/api/probe.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n// pages/api/probe.ts\nfunction nowISO() {\n    return new Date().toISOString();\n}\nfunction pickKey(q) {\n    if (!q) return \"\";\n    return Array.isArray(q) ? q[0] ?? \"\" : q;\n}\nfunction normalizeBase(u) {\n    return u.replace(/\\/+$/, \"\");\n}\nfunction joinUrl(base, path) {\n    const b = base.replace(/\\/+$/, \"\");\n    const p = path.replace(/^\\/+/, \"\");\n    return `${b}/${p}`;\n}\nfunction forceHttpsBase(base) {\n    const b = normalizeBase(base);\n    if (b.startsWith(\"https://\")) return b;\n    if (b.startsWith(\"http://\")) return `https://${b.slice(\"http://\".length)}`;\n    return b;\n}\nasync function getWithTimeout(url, timeoutMs) {\n    const start = Date.now();\n    const ctrl = new AbortController();\n    const t = setTimeout(()=>ctrl.abort(), timeoutMs);\n    try {\n        const r = await fetch(url, {\n            method: \"GET\",\n            redirect: \"follow\",\n            cache: \"no-store\",\n            signal: ctrl.signal,\n            headers: {\n                \"user-agent\": \"PBI-StatusProbe/2.0\",\n                accept: \"*/*\"\n            }\n        });\n        return {\n            ok: r.ok,\n            code: r.status,\n            ms: Date.now() - start\n        };\n    } catch (e) {\n        return {\n            ok: false,\n            ms: Date.now() - start,\n            err: e instanceof Error ? e.message : \"fetch failed\"\n        };\n    } finally{\n        clearTimeout(t);\n    }\n}\nasync function handler(req, res) {\n    res.setHeader(\"cache-control\", \"no-store, max-age=0\");\n    const checkedAtISO = nowISO();\n    const keyRaw = pickKey(req.query.key);\n    const allowed = [\n        \"api\",\n        \"docs\",\n        \"portal\",\n        \"demo\",\n        \"tool\"\n    ];\n    if (!keyRaw || !allowed.includes(keyRaw)) {\n        res.status(200).json({\n            ok: false,\n            url: \"\",\n            checkedAtISO,\n            ms: 0,\n            code: 400,\n            error: `invalid key (got \"${keyRaw || \"\"}\")`,\n            probeVersion: \"v2\"\n        });\n        return;\n    }\n    const apiBase = forceHttpsBase(\"http://api.kojib.com\" ?? 0);\n    const targets = {\n        // âœ… Health is always /health (GET). No HEAD. No //.\n        api: joinUrl(apiBase, \"/health\"),\n        docs: \"https://api.kojib.com/docs\",\n        portal: \"https://pbi.kojib.com/\",\n        demo: \"https://demo.kojib.com\",\n        tool: \"https://tool.kojib.com\"\n    };\n    const url = targets[keyRaw];\n    if (!url.startsWith(\"https://\")) {\n        res.status(200).json({\n            ok: false,\n            url,\n            checkedAtISO,\n            ms: 0,\n            code: 400,\n            error: \"invalid target url (must be https)\",\n            probeVersion: \"v2\"\n        });\n        return;\n    }\n    const p = await getWithTimeout(url, 4500);\n    if (p.ok && typeof p.code === \"number\") {\n        res.status(200).json({\n            ok: true,\n            url,\n            checkedAtISO,\n            ms: p.ms,\n            code: p.code,\n            probeVersion: \"v2\"\n        });\n        return;\n    }\n    res.status(200).json({\n        ok: false,\n        url,\n        checkedAtISO,\n        ms: p.ms,\n        code: p.code,\n        error: p.err ?? \"unavailable\",\n        probeVersion: \"v2\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUosVUFBVSxDQUFDLGFBQWE7UUFDL0JnQyxJQUFJVCxNQUFNLENBQUMsS0FBS2lCLElBQUksQ0FBQztZQUNuQm5CLElBQUk7WUFDSmpCO1lBQ0E4QjtZQUNBVixJQUFJO1lBQ0pGLE1BQU07WUFDTm1CLE9BQU87WUFDUEMsY0FBYztRQUNoQjtRQUNBO0lBQ0Y7SUFFQSxNQUFNNUMsSUFBSSxNQUFNSyxlQUFlQyxLQUFLO0lBRXBDLElBQUlOLEVBQUV1QixFQUFFLElBQUksT0FBT3ZCLEVBQUV3QixJQUFJLEtBQUssVUFBVTtRQUN0Q1UsSUFBSVQsTUFBTSxDQUFDLEtBQUtpQixJQUFJLENBQUM7WUFBRW5CLElBQUk7WUFBTWpCO1lBQUs4QjtZQUFjVixJQUFJMUIsRUFBRTBCLEVBQUU7WUFBRUYsTUFBTXhCLEVBQUV3QixJQUFJO1lBQUVvQixjQUFjO1FBQUs7UUFDL0Y7SUFDRjtJQUVBVixJQUFJVCxNQUFNLENBQUMsS0FBS2lCLElBQUksQ0FBQztRQUNuQm5CLElBQUk7UUFDSmpCO1FBQ0E4QjtRQUNBVixJQUFJMUIsRUFBRTBCLEVBQUU7UUFDUkYsTUFBTXhCLEVBQUV3QixJQUFJO1FBQ1ptQixPQUFPM0MsRUFBRTRCLEdBQUcsSUFBSTtRQUNoQmdCLGNBQWM7SUFDaEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3BiaS1wb3J0YWwvLi9zcmMvcGFnZXMvYXBpL3Byb2JlLnRzPzE4YzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFnZXMvYXBpL3Byb2JlLnRzXG5pbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xuXG50eXBlIFByb2JlS2V5ID0gXCJhcGlcIiB8IFwiZG9jc1wiIHwgXCJwb3J0YWxcIiB8IFwiZGVtb1wiIHwgXCJ0b29sXCI7XG5cbnR5cGUgUHJvYmVSZXN1bHQgPVxuICB8IHsgb2s6IHRydWU7IHVybDogc3RyaW5nOyBjaGVja2VkQXRJU086IHN0cmluZzsgbXM6IG51bWJlcjsgY29kZTogbnVtYmVyOyBwcm9iZVZlcnNpb246IFwidjJcIiB9XG4gIHwgeyBvazogZmFsc2U7IHVybDogc3RyaW5nOyBjaGVja2VkQXRJU086IHN0cmluZzsgbXM6IG51bWJlcjsgY29kZT86IG51bWJlcjsgZXJyb3I6IHN0cmluZzsgcHJvYmVWZXJzaW9uOiBcInYyXCIgfTtcblxuZnVuY3Rpb24gbm93SVNPKCk6IHN0cmluZyB7XG4gIHJldHVybiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG59XG5cbmZ1bmN0aW9uIHBpY2tLZXkocTogc3RyaW5nIHwgc3RyaW5nW10gfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuICBpZiAoIXEpIHJldHVybiBcIlwiO1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShxKSA/IChxWzBdID8/IFwiXCIpIDogcTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplQmFzZSh1OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gdS5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpO1xufVxuXG5mdW5jdGlvbiBqb2luVXJsKGJhc2U6IHN0cmluZywgcGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgYiA9IGJhc2UucmVwbGFjZSgvXFwvKyQvLCBcIlwiKTtcbiAgY29uc3QgcCA9IHBhdGgucmVwbGFjZSgvXlxcLysvLCBcIlwiKTtcbiAgcmV0dXJuIGAke2J9LyR7cH1gO1xufVxuXG5mdW5jdGlvbiBmb3JjZUh0dHBzQmFzZShiYXNlOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBiID0gbm9ybWFsaXplQmFzZShiYXNlKTtcbiAgaWYgKGIuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpKSByZXR1cm4gYjtcbiAgaWYgKGIuc3RhcnRzV2l0aChcImh0dHA6Ly9cIikpIHJldHVybiBgaHR0cHM6Ly8ke2Iuc2xpY2UoXCJodHRwOi8vXCIubGVuZ3RoKX1gO1xuICByZXR1cm4gYjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0V2l0aFRpbWVvdXQodXJsOiBzdHJpbmcsIHRpbWVvdXRNczogbnVtYmVyKTogUHJvbWlzZTx7IG9rOiBib29sZWFuOyBjb2RlPzogbnVtYmVyOyBtczogbnVtYmVyOyBlcnI/OiBzdHJpbmcgfT4ge1xuICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gIGNvbnN0IGN0cmwgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIGNvbnN0IHQgPSBzZXRUaW1lb3V0KCgpID0+IGN0cmwuYWJvcnQoKSwgdGltZW91dE1zKTtcblxuICB0cnkge1xuICAgIGNvbnN0IHIgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIHJlZGlyZWN0OiBcImZvbGxvd1wiLFxuICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIixcbiAgICAgIHNpZ25hbDogY3RybC5zaWduYWwsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwidXNlci1hZ2VudFwiOiBcIlBCSS1TdGF0dXNQcm9iZS8yLjBcIixcbiAgICAgICAgYWNjZXB0OiBcIiovKlwiXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4geyBvazogci5vaywgY29kZTogci5zdGF0dXMsIG1zOiBEYXRlLm5vdygpIC0gc3RhcnQgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7IG9rOiBmYWxzZSwgbXM6IERhdGUubm93KCkgLSBzdGFydCwgZXJyOiBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBcImZldGNoIGZhaWxlZFwiIH07XG4gIH0gZmluYWxseSB7XG4gICAgY2xlYXJUaW1lb3V0KHQpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2U8UHJvYmVSZXN1bHQ+KSB7XG4gIHJlcy5zZXRIZWFkZXIoXCJjYWNoZS1jb250cm9sXCIsIFwibm8tc3RvcmUsIG1heC1hZ2U9MFwiKTtcblxuICBjb25zdCBjaGVja2VkQXRJU08gPSBub3dJU08oKTtcbiAgY29uc3Qga2V5UmF3ID0gcGlja0tleShyZXEucXVlcnkua2V5KTtcblxuICBjb25zdCBhbGxvd2VkOiBQcm9iZUtleVtdID0gW1wiYXBpXCIsIFwiZG9jc1wiLCBcInBvcnRhbFwiLCBcImRlbW9cIiwgXCJ0b29sXCJdO1xuICBpZiAoIWtleVJhdyB8fCAhYWxsb3dlZC5pbmNsdWRlcyhrZXlSYXcgYXMgUHJvYmVLZXkpKSB7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgb2s6IGZhbHNlLFxuICAgICAgdXJsOiBcIlwiLFxuICAgICAgY2hlY2tlZEF0SVNPLFxuICAgICAgbXM6IDAsXG4gICAgICBjb2RlOiA0MDAsXG4gICAgICBlcnJvcjogYGludmFsaWQga2V5IChnb3QgXCIke2tleVJhdyB8fCBcIlwifVwiKWAsXG4gICAgICBwcm9iZVZlcnNpb246IFwidjJcIlxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGFwaUJhc2UgPSBmb3JjZUh0dHBzQmFzZShwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19QQklfQVBJX0JBU0UgPz8gXCJodHRwczovL2FwaS5rb2ppYi5jb21cIik7XG5cbiAgY29uc3QgdGFyZ2V0czogUmVjb3JkPFByb2JlS2V5LCBzdHJpbmc+ID0ge1xuICAgIC8vIOKchSBIZWFsdGggaXMgYWx3YXlzIC9oZWFsdGggKEdFVCkuIE5vIEhFQUQuIE5vIC8vLlxuICAgIGFwaTogam9pblVybChhcGlCYXNlLCBcIi9oZWFsdGhcIiksXG4gICAgZG9jczogXCJodHRwczovL2FwaS5rb2ppYi5jb20vZG9jc1wiLFxuICAgIHBvcnRhbDogXCJodHRwczovL3BiaS5rb2ppYi5jb20vXCIsXG4gICAgZGVtbzogXCJodHRwczovL2RlbW8ua29qaWIuY29tXCIsXG4gICAgdG9vbDogXCJodHRwczovL3Rvb2wua29qaWIuY29tXCJcbiAgfTtcblxuICBjb25zdCB1cmwgPSB0YXJnZXRzW2tleVJhdyBhcyBQcm9iZUtleV07XG5cbiAgaWYgKCF1cmwuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpKSB7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgb2s6IGZhbHNlLFxuICAgICAgdXJsLFxuICAgICAgY2hlY2tlZEF0SVNPLFxuICAgICAgbXM6IDAsXG4gICAgICBjb2RlOiA0MDAsXG4gICAgICBlcnJvcjogXCJpbnZhbGlkIHRhcmdldCB1cmwgKG11c3QgYmUgaHR0cHMpXCIsXG4gICAgICBwcm9iZVZlcnNpb246IFwidjJcIlxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHAgPSBhd2FpdCBnZXRXaXRoVGltZW91dCh1cmwsIDQ1MDApO1xuXG4gIGlmIChwLm9rICYmIHR5cGVvZiBwLmNvZGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG9rOiB0cnVlLCB1cmwsIGNoZWNrZWRBdElTTywgbXM6IHAubXMsIGNvZGU6IHAuY29kZSwgcHJvYmVWZXJzaW9uOiBcInYyXCIgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgIG9rOiBmYWxzZSxcbiAgICB1cmwsXG4gICAgY2hlY2tlZEF0SVNPLFxuICAgIG1zOiBwLm1zLFxuICAgIGNvZGU6IHAuY29kZSxcbiAgICBlcnJvcjogcC5lcnIgPz8gXCJ1bmF2YWlsYWJsZVwiLFxuICAgIHByb2JlVmVyc2lvbjogXCJ2MlwiXG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbIm5vd0lTTyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInBpY2tLZXkiLCJxIiwiQXJyYXkiLCJpc0FycmF5Iiwibm9ybWFsaXplQmFzZSIsInUiLCJyZXBsYWNlIiwiam9pblVybCIsImJhc2UiLCJwYXRoIiwiYiIsInAiLCJmb3JjZUh0dHBzQmFzZSIsInN0YXJ0c1dpdGgiLCJzbGljZSIsImxlbmd0aCIsImdldFdpdGhUaW1lb3V0IiwidXJsIiwidGltZW91dE1zIiwic3RhcnQiLCJub3ciLCJjdHJsIiwiQWJvcnRDb250cm9sbGVyIiwidCIsInNldFRpbWVvdXQiLCJhYm9ydCIsInIiLCJmZXRjaCIsIm1ldGhvZCIsInJlZGlyZWN0IiwiY2FjaGUiLCJzaWduYWwiLCJoZWFkZXJzIiwiYWNjZXB0Iiwib2siLCJjb2RlIiwic3RhdHVzIiwibXMiLCJlIiwiZXJyIiwiRXJyb3IiLCJtZXNzYWdlIiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNldEhlYWRlciIsImNoZWNrZWRBdElTTyIsImtleVJhdyIsInF1ZXJ5Iiwia2V5IiwiYWxsb3dlZCIsImluY2x1ZGVzIiwianNvbiIsImVycm9yIiwicHJvYmVWZXJzaW9uIiwiYXBpQmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19QQklfQVBJX0JBU0UiLCJ0YXJnZXRzIiwiYXBpIiwiZG9jcyIsInBvcnRhbCIsImRlbW8iLCJ0b29sIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/probe.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprobe&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fprobe.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();