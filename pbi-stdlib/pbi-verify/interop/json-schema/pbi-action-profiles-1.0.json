{
  "ver": "pbi-profiles-1.0",
  "profiles": [
    {
      "purpose": "transfer",
      "requireUV": true,
      "methods": ["POST"],
      "paths": [{ "type": "exact", "value": "/v1/phi/transfer" }],
      "requiredParams": ["to", "amountPhi", "nonce"],
      "paramRules": {
        "to": { "type": "string", "pattern": "^phi_[a-zA-Z0-9]{6,128}$" },
        "amountPhi": { "type": "string", "pattern": "^(0|[1-9][0-9]*)(\\.[0-9]{1,18})?$", "gt": "0" },
        "nonce": { "type": "string", "pattern": "^[0-9]{8,32}$" }
      }
    },
    {
      "purpose": "withdraw",
      "requireUV": true,
      "methods": ["POST"],
      "paths": [{ "type": "exact", "value": "/v1/phi/withdraw" }],
      "requiredParams": ["to", "amountPhi", "nonce", "network"],
      "paramRules": {
        "network": { "type": "string", "enum": ["phi", "eth", "btc"] },
        "to": { "type": "string", "minLength": 6, "maxLength": 256 },
        "amountPhi": { "type": "string", "pattern": "^(0|[1-9][0-9]*)(\\.[0-9]{1,18})?$", "gt": "0" },
        "nonce": { "type": "string", "pattern": "^[0-9]{8,32}$" }
      }
    },
    {
      "purpose": "admin_change",
      "requireUV": true,
      "methods": ["POST"],
      "paths": [{ "type": "prefix", "value": "/v1/admin/" }],
      "requiredParams": ["targetId", "changeType", "change"],
      "paramRules": {
        "targetId": { "type": "string", "minLength": 1, "maxLength": 128 },
        "changeType": { "type": "string", "enum": ["grant_role", "revoke_role", "rotate_key", "set_limits"] },
        "change": { "type": "object" }
      }
    }
  ]
}